<div class="screen-background"></div>

<!-- Side Menu -->
<cr-side-menu #sideMenu></cr-side-menu>

<cr-on-boarding
  #onBoarding
  (closeOnBoardingEvent)="showOnBoardingToggle()"
></cr-on-boarding>

<ion-content #mainContent>
  <!-- Router Outlet para cargar dinámicamente las rutas de las pestañas -->
  <ion-router-outlet></ion-router-outlet>
</ion-content>

<!-- Botón de Onboarding -->
<div
  #onBoardingBtn
  *ngIf="!isUserLoggedIn"
  class="on-boarding-btn"
  (click)="showOnBoardingToggle()"
>
  <ion-icon name="person-outline"></ion-icon>
</div>

<!-- Botón de Onboarding -->
<div
  #onBoardingBtn
  *ngIf="isUserLoggedIn"
  class="on-boarding-btn"
  (click)="onLogout()"
>
  <ion-icon name="log-out-outline"></ion-icon>
</div>

<!-- Botón del menú lateral -->
<canvas
  #menuToggleBtn
  class="side-menu-button"
  riv="menu_button"
  width="44"
  height="44"
  (click)="onMenuToggle()"
  *ngIf="showRiveMenuBtn"
>
  <riv-state-machine name="State Machine" play>
    <riv-input name="isOpen" [value]="isMenuOpen"></riv-input>
  </riv-state-machine>
</canvas>

<!-- Fondo blanco detrás de la barra de pestañas -->
<div #tabWhiteBg class="tabs-white-underlay"></div>

<!-- Barra de pestañas personalizada -->
<cr-bottom-tab-bar
  #bottomTabs
  style="z-index: 2"
  [selectedTab]="selectedTab"
  (onTabChange)="onTabChange($event)"
></cr-bottom-tab-bar>
